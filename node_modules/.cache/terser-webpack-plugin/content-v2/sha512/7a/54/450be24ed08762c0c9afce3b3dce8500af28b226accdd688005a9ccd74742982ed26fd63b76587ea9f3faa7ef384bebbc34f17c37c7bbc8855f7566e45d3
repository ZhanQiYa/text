{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=\"GVgH\")}({GVgH:function(e,t,n){\"use strict\";n.r(t);n(\"sTb7\");var o=n(\"IqnC\");n(\"y6sR\"),n(\"cX0E\");new Vue({el:\"#vueApp\",data:function(){return{form:{name:\"\",region:\"\",date1:\"\",date2:\"\",delivery:!1,type:[],resource:\"\",desc:\"\",dwnum:\"\",fullname:\"\",encode:\"\",grade:\"\",fi_order:\"\",property:\"\",class:\"\",emp_name:\"\",address:\"\",tel:\"\",charge_name:\"\",id:\"\",org_id:\"\",parent_id:\"\",charge_id:\"\",emp_id:\"\",right_id:\"\"},addPeopleTitle:\"\",showAddPeople:!1,currentModel:\"\",currentModelName:\"\",currentModelId:\"\"}},mounted:function(){$(\"body\").fadeIn(100)},methods:{handleIconClick:function(e,t,n){this.currentModelName=t,this.currentModelId=n,this.addPeopleTitle=e+\"选择\",this.showAddPeople=!0},addPeopleConfirm:function(e){console.log(e),this.form[this.currentModelName]=e.userName,this.form[this.currentModelId]=e.userId,this.showAddPeople=!1},addPeopleCancel:function(e){this.showAddPeople=!1},btnAdd:function(){var e=this;Object(o.b)(\"/sys/dw/insert\",{id:0,dwName:this.form.name,parentId:this.form.id,dwNum:this.form.dwnum,encode:this.form.encode,fullname:this.form.fullname,address:this.form.address,tel:this.form.tel,property:this.form.property,dwClass:this.form.class,fiOrder:this.form.fi_order,grade:this.form.grade,orgId:this.form.org_id,empId:this.form.emp_id,empName:this.form.emp_name,chargeId:this.form.charge_id,chargeName:this.form.charge_name},function(t){var n=$.fn.zTree.getZTreeObj(\"deptTreeCommon\"),o=n.getNodeByParam(\"id\",e.form.id),r=[{id:t.data,pid:e.form.id,name:e.form.name}];n.addNodes(o,r)})},btnUpdate:function(){var e=this;Object(o.b)(\"/sys/dw/update\",{id:this.form.id,dwName:this.form.name,dwNum:this.form.dwnum,encode:this.form.encode,fullname:this.form.fullname,address:this.form.address,tel:this.form.tel,property:this.form.property,dwClass:this.form.class,fiOrder:this.form.fi_order,grade:this.form.grade,orgId:this.form.org_id,empId:this.form.emp_id,chargeId:this.form.charge_id,empName:this.form.emp_name,chargeName:this.form.charge_name},function(t){var n=$.fn.zTree.getZTreeObj(\"deptTreeCommon\"),o=n.getNodeByParam(\"id\",e.form.id,null);o.name=e.form.name,n.updateNode(o)})},btnDelete:function(){var e=this,t=$.fn.zTree.getZTreeObj(\"deptTreeCommon\");Object(o.b)(\"/sys/dw/delete\",{id:this.form.id},function(n){var o=t.getNodeByParam(\"id\",e.form.id);o.getParentNode();t.removeNode(o),t.refresh()})},getDwData:function(e,t,n){var r=this;Object(o.a)(\"/sys/dw/getDwInfo?id=\".concat(n.id),{},function(e){null!=e.data&&(r.form.name=data.data.dwName,r.form.id=data.data.id,r.form.parent_id=data.data.parent_id,r.form.dwnum=data.data.dwNum,r.form.encode=data.data.encode,r.form.fullname=data.data.fullname,r.form.address=data.data.address,r.form.tel=data.data.tel,r.form.property=data.data.property,r.form.class=data.data.dwClass,r.form.fi_order=data.data.fiOrder,r.form.grade=data.data.grade,r.form.org_id=data.data.orgId,r.form.emp_name=data.data.empName,r.form.charge_name=data.data.chargeName)})}}})},IqnC:function(e,t,n){\"use strict\";function o(e,t,n,o){$.ajax({type:t,url:e,data:n||{},dataType:\"json\",success:function(e){o(e)},error:function(e){console.log(e)}})}function r(e,t,n){o(e,\"GET\",t,n)}function a(e,t,n){o(e,\"POST\",t,n)}n.d(t,\"a\",function(){return r}),n.d(t,\"b\",function(){return a})},cX0E:function(e,t){Vue.component(\"z-tree\",{props:{domId:{type:String,default:\"\"}},mounted:function(){this.init()},methods:{init:function(){$(\"#\"+this.domId).initDeptTree({treeType:\"dept_tree\",rootId:21,chkOrNot:!1,loadingSelector:\"TreeLogindata\",onClick:this.zTreeOnClick,onRightClick:this.zTreeononRightClick})},zTreeOnClick:function(){this.$emit(\"zTreeOnClick\",event,treeId,treeNode)},zTreeononRightClick:function(){this.$emit(\"zTreeononRightClick\",event,treeId,treeNode)}},template:'\\n    <div class=\"tree-wrapper\">\\n        <div class=\"search-wrapper\">\\n            <div class=\"search-input\">\\n                <input type=\"text\" placeholder=\"请输入搜索内容\" />\\n                <i class=\"icon-search btn-tree-search\"></i>\\n            </div>\\n            <div class=\"search-list\" style=\"display: none;\">\\n                <ul></ul>\\n            </div>\\n        </div>\\n        <ul :id=\"domId\" class=\"ztree\"></ul>\\n    </div>    \\n'})},sTb7:function(e,t,n){},y6sR:function(e,t){Vue.directive(\"dialogDrag\",{bind:function(e,t,n,o){var r=e.querySelector(\".el-dialog__header\"),a=e.querySelector(\".el-dialog\");r.style.cursor=\"move\";var i=a.currentStyle||window.getComputedStyle(a,null);r.onmousedown=function(e){var t,n,o=e.clientX-r.offsetLeft,l=e.clientY-r.offsetTop;i.left.includes(\"%\")?(t=+document.body.clientWidth*(+i.left.replace(/\\%/g,\"\")/100),n=+document.body.clientHeight*(+i.top.replace(/\\%/g,\"\")/100)):(t=+i.left.replace(/\\px/g,\"\"),n=+i.top.replace(/\\px/g,\"\")),document.onmousemove=function(e){var r=e.clientX-o,i=e.clientY-l;a.style.left=r+t+\"px\",a.style.top=i+n+\"px\"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}),Vue.directive(\"dialogDragWidth\",{bind:function(e,t,n,o){var r=t.value.$el.querySelector(\".el-dialog\");e.onmousedown=function(t){var n=t.clientX-e.offsetLeft;document.onmousemove=function(e){e.preventDefault();var t=e.clientX-n;r.style.width=t+\"px\"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}});Vue.component(\"add-people\",{props:{title:{type:String,default:\"\"},visible:{type:Boolean,default:!1},hasTree:{type:Boolean,default:!0}},mounted:function(){},data:function(){return{visible:!1,formInline:{input:\"\"},tableData:[],currentRow:[],keyWord:\"\",deptId:\"\",pagination:{currentPage:1,pageSize:10,total:\"\"}}},methods:{initTree:function(){this.$nextTick(function(){$(\"#dialogTree\").initDeptTree({treeType:\"dept_tree\",rootId:21,chkOrNot:!1,loadingSelector:\"TreeLogindata\",onClick:this.zTreeOnClick})})},zTreeOnClick:function(e,t,n){console.log(n),this.deptId=n.id,this.getData()},_getData:function(e,t){getData(\"/sys/user/list\",e,function(e){t(e)})},getData:function(e){var t=this;t._getData({keyWord:t.keyWord,pageNo:e||1,pageSize:10,deptId:t.deptId},function(e){t.tableData=e.data.records,t.pagination.total=e.data.total})},open:function(){this.getData(),this.hasTree&&this.initTree()},close:function(){this.$emit(\"cancel\",\"cancel\")},cancel:function(){this.$emit(\"cancel\",\"cancel\")},confirm:function(){0===this.tableData.length?this.close():0===this.currentRow.length?this.$message(\"请选择一行数据\"):this.$emit(\"confirm\",this.currentRow)},handleCurrentChange:function(e){this.currentRow=e},handlePageChange:function(e){this.getData(e)},onTableQuery:function(){this.keyWord=this.formInline.input,this.getData()}},template:'\\n<el-dialog v-dialogDrag width=\"70%\" @open=\"open\" @close=\"close\" :title=\"title\" :visible.sync=\"visible\">\\n       <el-row class=\"content-container\">\\n           <el-col v-if=\"hasTree\" :span=\"6\" class=\"add-people-tree\">\\n               <div class=\"tree-wrapper\">\\n                   <div class=\"search-wrapper\">\\n                       <div class=\"search-input\">\\n                           <input type=\"text\" placeholder=\"请输入搜索内容\" />\\n                           <i class=\"icon-search btn-tree-search\"></i>\\n                       </div>\\n                       <div class=\"search-list\" style=\"display: none;\">\\n                           <ul></ul>\\n                       </div>\\n                   </div>\\n                   <ul id=\"dialogTree\" class=\"ztree\"></ul>\\n               </div>\\n               \\n           </el-col>\\n           <el-col :span=\"18\" class=\"content-inner pt15\">\\n               <el-form :inline=\"true\" :model=\"formInline\" @submit.native.prevent>\\n                 <el-form-item label=\"快速搜索：\">\\n                   <el-input v-model=\"formInline.input\" placeholder=\"请输入账号/姓名/手机号\"></el-input>\\n                 </el-form-item>\\n                 <el-form-item>\\n                   <el-button type=\"primary\" @click=\"onTableQuery\">查询</el-button>\\n                 </el-form-item>\\n               </el-form>\\n               <el-table \\n                   class=\"add-people-table\"\\n                   ref=\"singleTable\" \\n                   :data=\"tableData\" \\n                   border \\n                   highlight-current-row \\n                   @current-change=\"handleCurrentChange\" \\n                   @row-dblclick=\"confirm\"\\n                   style=\"width: 100%\">\\n                       <el-table-column type=\"index\" width=\"50\"></el-table-column>\\n                       <el-table-column prop=\"account\" label=\"账号\"></el-table-column>\\n                       <el-table-column prop=\"userName\" label=\"姓名\"></el-table-column>\\n                       <el-table-column prop=\"deptName\" label=\"部门名称\"></el-table-column>\\n                       <el-table-column prop=\"positionName\" label=\"职位\"></el-table-column>\\n                       <el-table-column prop=\"tel\" label=\"手机号码\"></el-table-column>\\n               </el-table> \\n               <el-pagination\\n                   @current-change=\"handlePageChange\"\\n                   :current-page.sync=\"pagination.currentPage\"\\n                   :page-size=\"10\"\\n                   layout=\"total, prev, pager, next\"\\n                   :total=\"pagination.total\">\\n               </el-pagination>\\n           </el-col>\\n       </el-row>    \\n       <div slot=\"footer\" class=\"dialog-footer\">\\n           <el-button @click=\"cancel\">取 消</el-button>\\n           <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\\n       </div>\\n   </el-dialog>\\n   '})}});","extractedComments":[]}