{"code":"!function(e){var n={};function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var l in e)t.d(o,l,function(n){return e[n]}.bind(null,l));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=\"VjpF\")}({IqnC:function(e,n,t){\"use strict\";function o(e,n,t,o){$.ajax({type:n,url:e,data:t||{},dataType:\"json\",success:function(e){o(e)},error:function(e){console.log(e)}})}function l(e,n,t){o(e,\"GET\",n,t)}function i(e,n,t){o(e,\"POST\",n,t)}t.d(n,\"a\",function(){return l}),t.d(n,\"b\",function(){return i})},VjpF:function(e,n,t){\"use strict\";t.r(n);t(\"sTb7\");var o=t(\"IqnC\");t(\"y6sR\"),new Vue({el:\"#vueApp\",data:function(){return{orginfo:{id:\"\",parentId:\"\",orgName:\"\",orgNum:\"\",address1:\"\",address2:\"\",address3:\"\",address4:\"\",httpsite:\"\",webserver:\"\",email:\"\",orgImgFoldername:\"\",imgIco:\"\"},testValue:\"\",showAddPeople:!1}},created:function(){this.getFormData()},mounted:function(){$(\"body\").fadeIn(100)},methods:{getFormData:function(e){var n=this;Object(o.a)(\"/sys/org/getorginfo\",{},function(t){n.orginfo=t.data,n.orginfo.imgIco&&$(\"#logo\",window.parent.document).attr(\"src\",n.orginfo.imgIco),e&&e()})},uploadsuccess:function(e){this.orginfo.imgIco=e.data.relpath,this.$message({message:\"上传成功\",type:\"success\"})},onSaveClick:function(){var e=this;Object(o.a)(\"/sys/org/updatebyorg\",this.orginfo,function(n){e.getFormData(function(){e.$message({message:\"保存成功！\",type:\"success\"})})})},handleIconClick:function(){this.showAddPeople=!0},addPeopleConfirm:function(e){this.showAddPeople=!1},addPeopleCancel:function(e){this.showAddPeople=!1}}})},sTb7:function(e,n,t){},y6sR:function(e,n){Vue.directive(\"dialogDrag\",{bind:function(e,n,t,o){var l=e.querySelector(\".el-dialog__header\"),i=e.querySelector(\".el-dialog\");l.style.cursor=\"move\";var a=i.currentStyle||window.getComputedStyle(i,null);l.onmousedown=function(e){var n,t,o=e.clientX-l.offsetLeft,r=e.clientY-l.offsetTop;a.left.includes(\"%\")?(n=+document.body.clientWidth*(+a.left.replace(/\\%/g,\"\")/100),t=+document.body.clientHeight*(+a.top.replace(/\\%/g,\"\")/100)):(n=+a.left.replace(/\\px/g,\"\"),t=+a.top.replace(/\\px/g,\"\")),document.onmousemove=function(e){var l=e.clientX-o,a=e.clientY-r;i.style.left=l+n+\"px\",i.style.top=a+t+\"px\"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}),Vue.directive(\"dialogDragWidth\",{bind:function(e,n,t,o){var l=n.value.$el.querySelector(\".el-dialog\");e.onmousedown=function(n){var t=n.clientX-e.offsetLeft;document.onmousemove=function(e){e.preventDefault();var n=e.clientX-t;l.style.width=n+\"px\"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}});Vue.component(\"add-people\",{props:{title:{type:String,default:\"\"},visible:{type:Boolean,default:!1},hasTree:{type:Boolean,default:!0}},mounted:function(){},data:function(){return{visible:!1,formInline:{input:\"\"},tableData:[],currentRow:[],keyWord:\"\",deptId:\"\",pagination:{currentPage:1,pageSize:10,total:\"\"}}},methods:{initTree:function(){this.$nextTick(function(){$(\"#dialogTree\").initDeptTree({treeType:\"dept_tree\",rootId:21,chkOrNot:!1,loadingSelector:\"TreeLogindata\",onClick:this.zTreeOnClick})})},zTreeOnClick:function(e,n,t){console.log(t),this.deptId=t.id,this.getData()},_getData:function(e,n){getData(\"/sys/user/list\",e,function(e){n(e)})},getData:function(e){var n=this;n._getData({keyWord:n.keyWord,pageNo:e||1,pageSize:10,deptId:n.deptId},function(e){n.tableData=e.data.records,n.pagination.total=e.data.total})},open:function(){this.getData(),this.hasTree&&this.initTree()},close:function(){this.$emit(\"cancel\",\"cancel\")},cancel:function(){this.$emit(\"cancel\",\"cancel\")},confirm:function(){0===this.tableData.length?this.close():0===this.currentRow.length?this.$message(\"请选择一行数据\"):this.$emit(\"confirm\",this.currentRow)},handleCurrentChange:function(e){this.currentRow=e},handlePageChange:function(e){this.getData(e)},onTableQuery:function(){this.keyWord=this.formInline.input,this.getData()}},template:'\\n<el-dialog v-dialogDrag width=\"70%\" @open=\"open\" @close=\"close\" :title=\"title\" :visible.sync=\"visible\">\\n       <el-row class=\"content-container\">\\n           <el-col v-if=\"hasTree\" :span=\"6\" class=\"add-people-tree\">\\n               <div class=\"tree-wrapper\">\\n                   <div class=\"search-wrapper\">\\n                       <div class=\"search-input\">\\n                           <input type=\"text\" placeholder=\"请输入搜索内容\" />\\n                           <i class=\"icon-search btn-tree-search\"></i>\\n                       </div>\\n                       <div class=\"search-list\" style=\"display: none;\">\\n                           <ul></ul>\\n                       </div>\\n                   </div>\\n                   <ul id=\"dialogTree\" class=\"ztree\"></ul>\\n               </div>\\n               \\n           </el-col>\\n           <el-col :span=\"18\" class=\"content-inner pt15\">\\n               <el-form :inline=\"true\" :model=\"formInline\" @submit.native.prevent>\\n                 <el-form-item label=\"快速搜索：\">\\n                   <el-input v-model=\"formInline.input\" placeholder=\"请输入账号/姓名/手机号\"></el-input>\\n                 </el-form-item>\\n                 <el-form-item>\\n                   <el-button type=\"primary\" @click=\"onTableQuery\">查询</el-button>\\n                 </el-form-item>\\n               </el-form>\\n               <el-table \\n                   class=\"add-people-table\"\\n                   ref=\"singleTable\" \\n                   :data=\"tableData\" \\n                   border \\n                   highlight-current-row \\n                   @current-change=\"handleCurrentChange\" \\n                   @row-dblclick=\"confirm\"\\n                   style=\"width: 100%\">\\n                       <el-table-column type=\"index\" width=\"50\"></el-table-column>\\n                       <el-table-column prop=\"account\" label=\"账号\"></el-table-column>\\n                       <el-table-column prop=\"userName\" label=\"姓名\"></el-table-column>\\n                       <el-table-column prop=\"deptName\" label=\"部门名称\"></el-table-column>\\n                       <el-table-column prop=\"positionName\" label=\"职位\"></el-table-column>\\n                       <el-table-column prop=\"tel\" label=\"手机号码\"></el-table-column>\\n               </el-table> \\n               <el-pagination\\n                   @current-change=\"handlePageChange\"\\n                   :current-page.sync=\"pagination.currentPage\"\\n                   :page-size=\"10\"\\n                   layout=\"total, prev, pager, next\"\\n                   :total=\"pagination.total\">\\n               </el-pagination>\\n           </el-col>\\n       </el-row>    \\n       <div slot=\"footer\" class=\"dialog-footer\">\\n           <el-button @click=\"cancel\">取 消</el-button>\\n           <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\\n       </div>\\n   </el-dialog>\\n   '})}});","extractedComments":[]}